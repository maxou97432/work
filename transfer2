for ville in model_agg["ville_"].unique():
    df_ville = model_agg[model_agg["ville_"] == ville]

    plt.figure(figsize = (10,6))
    plt.plot(df_ville["DATE"], df_ville["Prix_m2_moyen"], label = "Prix moyen du m2")
    plt.plot(df_ville["DATE"], df_ville["Median"], label = "Prix médian du m2")
    
    plt.legend()
    plt.title(ville)
    plt.xlabel("Date")
    plt.ylabel("Prix du m2 en €")
    plt.grid(True)
    plt.tight_layout()
    plt.show()
