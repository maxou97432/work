# Normaliser les villes dans le DataFrame
df["ville_"] = (
    df["ville_"]
    .str.upper()                       # tout en majuscules
    .str.strip()                        # enlever espaces avant/apr√®s
    .str.normalize('NFKD')              # enlever accents
    .str.encode('ascii', errors='ignore').str.decode()
)

# Normaliser la liste des villes
villes_norm = [
    v.upper().strip().normalize('NFKD').encode('ascii', errors='ignore').decode() 
    for v in villes
]

# Filtrer
df_filtre = df[df["ville_"].isin(villes_norm)]
